(function (){
    // 防止使用编辑器自带的package报错
    const Path = require('path')
    module.paths.push(Path.join(Editor.App.path,'node_modules'));
})();
const Path=require("path"),URL=require("url"),Fs=require("fs");function urlToFsPath(e){const t=URL.parse(e);if("packages:"===t.protocol){let e=Path.join(Editor.Project.path,"extensions",t.hostname,t.pathname);if(Fs.existsSync(e))return e;const a=Editor.Package.getPath(t.hostname);return e=Path.join(a,t.pathname),Fs.existsSync(e)?e:null}}function relativeUrlPath(e){const t=urlToFsPath(e);return Path.relative(__dirname,t)}function requireWithUrl(e){const t=urlToFsPath(e);return t?require(t):null}const panel=requireWithUrl("packages://cocos-mcp-tools/dockable/main.js");function loadCss(e,t){e&&(Array.isArray(t)||(t=[t]),t.forEach((t=>{const a=CSS.escape(t);if(!e.querySelector(`#${a}`)){const n=document.createElement("link");n.rel="stylesheet",n.href=t,n.id=a,e.appendChild(n)}})))}let panelInstance=panel;panel&&panel.default&&(panelInstance=panel.default);let targetPanel=panelInstance;"function"==typeof panelInstance&&(targetPanel=new panelInstance),exports.template='<div id="app" style="width:100%;height:100%;display:flex;">main</div>',exports.$={app:"#app"},exports.ready=function(...e){loadCss(this.$.app.parentNode,"packages://cocos-mcp-tools/dockable/main.css"),loadCss(document.head,"packages://cocos-mcp-tools/dockable/main.css"),targetPanel.hasOwnProperty("ready")&&"function"==typeof targetPanel.ready&&targetPanel.ready(this.$.app,e)},exports.close=function(){},exports.methods=panelInstance.messages||{};